<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:ctx="http://www.springframework.org/schema/context"
       xmlns:amq="http://activemq.apache.org/schema/core"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
          http://www.springframework.org/schema/beans
          http://www.springframework.org/schema/beans/spring-beans.xsd
          http://www.springframework.org/schema/context
          http://www.springframework.org/schema/context/spring-context-3.0.xsd
          http://www.springframework.org/schema/mvc
          http://www.springframework.org/schema/mvc/spring-mvc.xsd
          http://activemq.apache.org/schema/core
          http://activemq.apache.org/schema/core/activemq-core.xsd">

  <ctx:annotation-config/>
  <ctx:property-placeholder location="${config.properties.path}"
                            file-encoding="UTF-8"
                            ignore-unresolvable="false"/>

  <import resource="classpath*:META-INF/spring/config-messaging.xml"/>
  <import resource="classpath*:META-INF/spring/daobs-harvester-routes.xml"/>
  <import resource="classpath*:META-INF/spring/daobs-task-routes.xml" />

  <bean id="camelContextStore"
        class="org.daobs.workers.ContextStore"/>

  <bean id="jmsTemplate"
        class="org.springframework.jms.core.JmsTemplate">
    <constructor-arg ref="pooledConnectionFactory"/>
    <property name="sessionTransacted" value="false"/>
    <property name="receiveTimeout" value="5000"/>
  </bean>

  <bean id="jmsMessager"
        class="org.daobs.messaging.JMSMessager"/>

  <bean id="SolrServer"
        class="org.daobs.index.SolrServerBean">
    <property name="solrServerUrl" value="${solr.server.url}/${solr.core.data}"/>
    <property name="solrServerUsername" value="${solr.server.user}"/>
    <property name="solrServerPassword" value="${solr.server.password}"/>
  </bean>

  <bean id="SolrRequest"
        class="org.daobs.index.SolrRequestBean"/>

  <bean id="DashboardLoader"
        class="org.daobs.solr.samples.loader.DashboardLoader">
    <property name="solrServerUrl" value="${solr.server.url}/${solr.core.dashboard}"/>
    <property name="solrServerUsername" value="${solr.server.user}"/>
    <property name="solrServerPassword" value="${solr.server.password}"/>
  </bean>


  <bean id="harvesterConfigRepository"
        class="org.daobs.harvester.repository.HarvesterConfigRepository">
    <property name="configurationFilepath" value="${data.dir}/harvester/config-harvesters.xml"/>
    <property name="harvestingTasksFolder" value="${data.dir}/harvester/tasks"/>
  </bean>
</beans>